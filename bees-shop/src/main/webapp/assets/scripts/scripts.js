var beesden=function(a){return{ajax:function(a,b,c,d){var e=new XMLHttpRequest;d=d?d:"GET",a=a.replace(/[?&]ajax=([^&]*)/,""),a=a+(a.indexOf("?")>-1?"&":"?")+"ajax=true",e.onreadystatechange=function(){4===e.readyState&&200===e.status&&b&&"function"==typeof b&&b(e)},e.open(d,a,!0),e.setRequestHeader("Cache-Control","no-cache"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(c)},async:function(b,c){if(a.getElementById(c))return!1;var d=a.createElement("script");d.type="text/javascript",d.async=!0,d.id=c,d.src=b,a.body.appendChild(d)},serialize:function(a){var b=[];for(i=0;i<a.elements.length;i++)j=a.elements[i],"INPUT"==j.nodeName||"BUTTON"==j.nodeName?"radio"==j.type||"checkbox"==j.type?a.elements[i].checked&&b.push(a.elements[i].name+"="+encodeURIComponent(a.elements[i].value)):"submit"!=j.type&&b.push(a.elements[i].name+"="+encodeURIComponent(a.elements[i].value)):"SELECT"==j.nodeName?b.push(a.elements[i].name+"="+encodeURIComponent(a.elements[i].value)):"TEXTAREA"==j.nodeName&&b.push(a.elements[i].name+"="+encodeURIComponent(a.elements[i].value));return b.join("&")}}}(document);beesden.content=function(a){return pagination=function(){function b(){g=!0,j.className+=" reveal",beesden.ajax(location.href,function(b){a.getElementById("info").innerHTML=b.responseText,j.className.replace(" reveal",""),pagination()})}var c,d,e,f=a.querySelectorAll(".resultsContainer"),g="state"in window.history&&null!==window.history.state,h=location.href,j=a.getElementById("contentOverlay");if(f.length){for(j||(j=j||a.createElement("div"),j.id="contentOverlay",f[0].parentNode.appendChild(j)),i=0;i<f.length;i++){c=f[i].getElementsByTagName("a");for(var k=0;k<c.length;k++)c[k].onclick=function(){return window.history.pushState(null,null,this.href),b(e),!1};d=f[i].getElementsByTagName("select");for(var k=0;k<d.length;k++)d[k].onchange=function(){e=this.parentNode.action+beesden.serialize(this.parentNode),window.history.pushState(null,document.title,e),b(e)}}window.onpopstate=function(){(location.href!=h||g)&&b(e)}}},{init:function(){pagination()}}}(document),beesden.forms=function(a){var b=function(){var b=a.getElementById("checkoutFlow");Array.prototype.forEach.call(b.getElementsByTagName("form"),function(a){a.addEventListener("submit",function(a){a.preventDefault(),beesden.ajax(this.action,function(a){console.log(a.response)},beesden.serialize(this),"POST")})})},c=function(){var b,c,d;Array.prototype.forEach.call(a.getElementsByClassName("formSelect"),function(e,f){d=e.querySelector("input"),1>f&&(b=a.createElement("div"),e.parentNode.insertBefore(b,e.nextSibling),d.click()),b.appendChild(e),d.addEventListener("click",function(){for(c=a.getElementsByClassName(this.value),f=0;f<c.length;f++)c[f].style.display="block"})})},d=function(){Array.prototype.forEach.call(a.getElementsByTagName("input"),function(a){"hidden"!=a.type&&"checkbox"!=a.type&&"radio"!=a.type&&a.addEventListener("blur",function(){this.value=this.value.trim()})})};return{init:function(){b(),c(),d()}}}(document),beesden.layout=function(a){return menu=function(){for(menuToggle=a.querySelectorAll("label.menuToggle"),overlay=a.createElement("div"),overlay.id="menuOverlay",a.body.appendChild(overlay),i=0;i<menuToggle.length;i++)menuToggle[i].onclick=function(){return a.body.className.indexOf("showMenu")<0?a.body.className+=" showMenu":a.body.className=a.body.className.replace(" showMenu",""),!1};overlay.onclick=function(){a.body.className=a.body.className.replace(" showMenu","")}},{init:function(){menu()}}}(document),beesden.plugins=function(a){var b=function(b,c,d,e){function f(a){a>0?(a=k[0].offsetWidth*a>b.offsetWidth?Math.round(b.offsetWidth/k[0].offsetWidth):a,g(a),b.style.left=-a*k[0].offsetWidth+"px",j="0"):(a=k[0].offsetWidth*a<b.offsetWidth?-Math.round(b.offsetWidth/k[0].offsetWidth):a,g()),h=!1,j=b.offsetLeft<0?0:a*k[0].offsetWidth+"px",b.style.transition="left "+d+"s ease-in-out",b.style.left=j}function g(a){for(i=0;(0>a?-a:a)>i;i++)a>0?b.insertBefore(b.lastChild,b.firstChild):0>a&&b.insertBefore(b.firstChild,b.lastChild.nextSibling);b.style.transition="none",b.style.left=0,h=!0}var h,j,b=b||a.querySelectorAll(".promotion ul")[0],k=b.childNodes,l=a.createElement("span"),m=a.createElement("span");b.addEventListener("transitionend",function(){g(b.offsetLeft<0?-Math.round(b.offsetWidth/k[0].offsetWidth):0)},!1),l.className="scroll button advance left",m.className="scroll button advance right",l.innerHTML="&laquo;",m.innerHTML="&raquo;",b.parentNode.insertBefore(l,b),b.parentNode.insertBefore(m,b.nextSibling),g();var n=b.innerHTML;for(i=k.length;2*e>i;i++)b.innerHTML+=n;l.onclick=function(){h&&f(c)},m.onclick=function(){h&&f(-c)}},c=function(b,c,d){function e(b,d){o&&p!=b&&(q=b,curSlide=a.getElementById(n+p),nextSlide=a.getElementById(n+q),clearTimeout(l),1==d?f():l=setTimeout(f,c))}function f(){o=!1,h(q),curSlide.style.opacity=0,nextSlide.style.opacity=1}function g(a){e(Number(a.id.substr(a.id.lastIndexOf("-")+1)),!0)}function h(b){for(i=0;i<j.length;i++)m.childNodes[i].className="";a.getElementById(n+"control-"+b).className="selected"}var j,k,l,b=b||a.getElementsByClassName("slides")[0],m=a.createElement("ol"),n="bees-slider-",o=!0,p=1,q=1;if(!(null==b||b.childNodes.length<2)){for(j=b.childNodes,b.parentNode.appendChild(m),m.className="slide_nav",i=0;i<b.childNodes.length;i++)k=a.createElement("li"),k.id=n+"control-"+(i+1),k.onclick=function(){g(this)},m.appendChild(k),1>i&&(j[i].style.opacity=1),j[i].id=n+(i+1),j[i].style.transition="opacity "+d+"s",j[i].addEventListener("transitionend",function(){1==this.style.opacity&&(p=q,o=!0,e(q==j.length?1:p+1))},!1);h(p),e(q)}};return{carousel:b,slider:c}}(document),beesden.product=function(a){var b=function(b){var c=b.querySelectorAll("#basketItem")[0],d=a.createElement("a"),e=(new XMLHttpRequest,"product_confirm");d.className=e,d.href="/checkout/basket",c.appendChild(d),c.onsubmit=function(){return beesden.ajax(c.action,function(a){a=JSON.parse(a.response),d.innerHTML=a.message,d.className=e+" update alert alert"+a.status,beesden.store.minibasket()},beesden.serialize(c),"POST"),!1}},c=function(a){var b=a.querySelectorAll("#productImages .large")[0],d=a.querySelectorAll("#productImages .small")[0];for(i=0;i<d.childNodes.length;i++)d.childNodes[i].onclick=function(){return b.appendChild(this),d.appendChild(b.firstChild),c(a),e(a),!1}},d=function(){var b=a.getElementById("socialShare");b&&(window.___gcfg={lang:"en-GB"},beesden.async("//connect.facebook.net/en_GB/all.js#xfbml=1","social-fb"),beesden.async("//platform.twitter.com/widgets.js","social-tw"),beesden.async("//apis.google.com/js/plusone.js","social-gp"),beesden.async("//assets.pinterest.com/js/pinit.js","social-pi"),b.style.display="block")},e=function(b){var c,d,e=b.querySelectorAll("#productImages .large a")[0],f=a.createElement("img");e.querySelectorAll(".zoomImage").length||(f.className="zoomImage",f.src=e.href,f.onload=function(){function a(a){c=-(f.offsetHeight-e.offsetHeight)/e.offsetHeight,d=-(f.offsetWidth-e.offsetWidth)/e.offsetWidth,f.style.left=(a.clientX-e.getBoundingClientRect().left)*d+"px",f.style.top=(a.clientY-e.getBoundingClientRect().top)*c+"px"}e.appendChild(f),e.onmouseover=function(){"large"==e.parentNode.className&&(f.style.opacity=1)},e.onmouseout=function(){f.style.opacity=0},e.onmousemove=function(b){"large"==e.parentNode.className&&a(b)},e.ontouchmove=function(b){"large"==e.parentNode.className&&a(b)}},e.onclick=function(){return f.style.opacity=1==f.style.opacity?0:1,!1})};return{init:function(a){b(a,2500),c(a),d(),e(a)}}}(document),beesden.store=function(a){var b=function(b){var d=a.getElementById("basketLink"),e=a.getElementById("basket");beesden.ajax("/checkout/basket?minibasket=true",function(a){d.innerHTML=a.responseText,c(d)}),b&&e&&beesden.ajax("/checkout/basket",function(a){e.outerHTML=a.response,c()})},c=function(c){var d,e;if(c=c||a.getElementById("basket"),c&&(d=c.querySelectorAll(".increase, .decrease, .remove")))for(i=0;i<d.length;i++)e=d[i],e.onclick=function(){return beesden.ajax(this.href,function(){b(!0)}),!1}};return{init:function(){c(),b()},minibasket:b}}(document),window.onload=function(){beesden.layout&&beesden.layout.init(),beesden.content&&beesden.content.init();var a=document.getElementById("product");beesden.product&&a&&beesden.product.init(a),beesden.store&&beesden.store.init(),beesden.forms&&beesden.forms.init(),document.body.className+=" js"};